(this["webpackJsonptdd-battleship"]=this["webpackJsonptdd-battleship"]||[]).push([[0],{13:function(e,t,i){},18:function(e,t,i){"use strict";i.r(t);var r=i(2),n=i.n(r),c=i(8),a=i.n(c),s=(i(13),i(3)),o=(i(6),function(){var e=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],t=[],i=0;return{board:e,placeShip:function(i,r,n,c){if("horizontal"===c){t.push(i);for(var a=0;a<i.length;a++)e[r][n+a]={ship:i,i:a}}else{if("vertical"!==c)return"You cannot place a ship here";t.push(i);for(var s=0;s<i.length;s++)e[r+s][n]={ship:i,i:s}}},isOutOfBounds:function(t,i,r,n){return i+t.length>e.length&&"vertical"===n||r+t.length>e.length&&"horizontal"===n},isBoardClear:function(t,i,r,n){if("horizontal"===n){for(var c=0;c<t.length;c++)if(0!==e[i][r+c])return!1}else for(var a=0;a<t.length;a++)if(i+a>9||0!==e[i+a][r])return!1;return!0},receiveAttack:function(t,r){"object"==typeof e[t][r]&&"hit"!==e[t][r].ship.hitArray[e[t][r].i]?(e[t][r].ship.hit(e[t][r].i),!0===e[t][r].ship.isSunk()&&i++):"object"==typeof e[t][r]&&"hit"===e[t][r].ship.hitArray[e[t][r].i]||"miss"===e[t][r]?console.log("You've already fired here"):(e[t][r]="miss",console.log("miss"))},shipsArray:t,checkForLoss:function(){return i===t.length}}}),l=i(7),h=i.n(l),d=function(e){var t=0,i=e;switch(e){case"carrier":t=5;break;case"battleship":t=4;break;case"destroyer":case"submarine":t=3;break;case"patrol boat":t=2}var r=new Array(t);return{id:i,length:t,isSunk:function(){if(r.filter((function(e){return"hit"===e})).length===t)return!0},hit:function(e){if("hit"===r[e])return"This location has already been hit";r[e]="hit"},hitArray:r}},b=i(1);var u=function(e){var t=e.onClick,i=e.tile,r=e.rowIndex,n=e.columnIndex;return"object"===typeof i&&"hit"!==i.ship.hitArray[i.i]?Object(b.jsx)("div",{className:"board-tile",onClick:function(){return t(r,n)}}):"miss"===i?Object(b.jsx)("div",{className:"board-tile-miss"}):"object"===typeof i&&"hit"===i.ship.hitArray[i.i]?Object(b.jsx)("div",{className:"board-tile-hit"}):0===i?Object(b.jsx)("div",{className:"board-tile",onClick:function(){return t(r,n)}}):void 0};var j=function(e){var t=e.onClick,i=e.tile,r=e.rowIndex,n=e.columnIndex;return"object"===typeof i&&"hit"!==i.ship.hitArray[i.i]?Object(b.jsx)("div",{className:"board-tile-boat"}):"miss"===i?Object(b.jsx)("div",{className:"board-tile-miss"}):"object"===typeof i&&"hit"===i.ship.hitArray[i.i]?Object(b.jsx)("div",{className:"board-tile-hit"}):0===i?Object(b.jsx)("div",{onClick:function(){return t(r,n)},className:"board-tile"}):void 0},m=i(4),v=i(16);var A=function(){var e=Object(r.useState)(o()),t=Object(s.a)(e,2),i=t[0],n=t[1],c=Object(r.useState)(o()),a=Object(s.a)(c,2),l=a[0],A=a[1],O=Object(r.useState)(h()("player",!0)),p=Object(s.a)(O,2),f=(p[0],p[1],Object(r.useState)(h()("computer",!1))),g=Object(s.a)(f,2),x=g[0],N=(g[1],Object(r.useState)(0)),y=Object(s.a)(N,2),k=y[0],I=y[1],M=Object(r.useState)(!1),C=Object(s.a)(M,2),J=C[0],B=C[1],S=Object(r.useState)("horizontal"),F=Object(s.a)(S,2),w=F[0],T=F[1],E=[d("destroyer"),d("destroyer"),d("battleship"),d("carrier"),d("submarine"),d("submarine"),d("patrol boat")],Z=[d("destroyer"),d("destroyer"),d("battleship"),d("carrier"),d("submarine"),d("submarine"),d("patrol boat")],D=Object(r.useState)("Place your destroyer"),G=Object(s.a)(D,2),R=G[0],U=G[1],W=function(){return{x:Math.round(9*Math.random()),y:Math.round(9*Math.random())}};Object(r.useEffect)((function(){n((function(e){for(var t=m.a.clone(e),r=0;r<E.length;){var n=W().x,c=W().y,a=1===Math.round(Math.random())?"horizontal":"vertical",s=E[r];console.log(n,c,a,s),i.isBoardClear(s,n,c,a)&&!i.isOutOfBounds(s,n,c,a)&&(t.placeShip(s,n,c,a),r++)}return t}))}),[]);var H=function(e,t){k<Z.length&&!l.isOutOfBounds(Z[k],e,t,w)&&l.isBoardClear(Z[k],e,t,w)&&(A((function(i){var r=m.a.clone(i);return r.placeShip(Z[k],e,t,w),r})),I(k+1),k+1<Z.length&&U("Place your ".concat(Z[k+1].id)),k===Z.length-1&&U("All ships placed, attack the enemy!"))},Y=function(e,t){!1===l.checkForLoss()&&!1===i.checkForLoss()&&k===Z.length&&(J||(n((function(i){var r=m.a.clone(i);return r.receiveAttack(e,t),r})),B(!0),setTimeout((function(){var e=x.generateAttack();A((function(t){var i=m.a.clone(t);return i.receiveAttack(e.x,e.y),i})),B(!1)}),500))),!0===l.checkForLoss()?U("You lost!"):!0===i.checkForLoss()&&U("You won!")};return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"header",children:Object(b.jsx)("h1",{children:"Battleships"})}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"message-board",children:Object(b.jsx)("div",{children:R})})}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"side",children:[Object(b.jsx)("div",{className:"board-heading",children:Object(b.jsx)("h3",{children:"Player Board"})}),Object(b.jsxs)("div",{className:"board-container",children:[["","A","B","C","D","E","F","G","H","I","J"].map((function(e){return Object(b.jsx)("div",{className:"board-tile-heading",children:e})})),l.board.map((function(e,t){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"board-tile-heading",children:t+1}),e.map((function(e,i){return Object(b.jsx)(j,{onClick:H,tile:e,rowIndex:t,columnIndex:i},v())}))]})}))]}),Object(b.jsx)("div",{className:"button-wrapper",children:Object(b.jsxs)("button",{className:"button",onClick:function(){return T((function(e){return"vertical"===e?"horizontal":"vertical"}))},children:["Ship orientation: ",w]})})]}),Object(b.jsxs)("div",{className:"side",children:[Object(b.jsx)("div",{className:"board-heading",children:Object(b.jsx)("h3",{children:"Computer Board"})}),Object(b.jsxs)("div",{className:"board-container",children:[["","A","B","C","D","E","F","G","H","I","J"].map((function(e){return Object(b.jsx)("div",{className:"board-tile-heading",children:e})})),i.board.map((function(e,t){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"board-tile-heading",children:t+1}),e.map((function(e,i){return Object(b.jsx)(u,{onClick:Y,tile:e,rowIndex:t,columnIndex:i},v())}))]})}))]})]})]}),Object(b.jsx)("div",{children:Object(b.jsxs)("a",{className:"footer",href:"https://github.com/Cheso7",children:[Object(b.jsx)("div",{className:"footer-item",children:"Made by Cheso7"}),Object(b.jsx)("div",{className:"footer-item",children:Object(b.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwOUY4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwOUU4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJBOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJCOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jUqS1wAAApVJREFUeNq0l89rE1EQx3e3gVJoSPzZeNEWPKgHoa0HBak0iHiy/4C3WvDmoZ56qJ7txVsPQu8qlqqHIhRKJZceesmhioQEfxTEtsoSpdJg1u/ABJ7Pmc1m8zLwgWTmzcw3L+/te+tHUeQltONgCkyCi2AEDHLsJ6iBMlgHL8FeoqokoA2j4CloRMmtwTmj7erHBXPgCWhG6a3JNXKdCiDl1cidVbXZkJoXQRi5t5BrxwoY71FzU8S4JuAIqFkJ2+BFSlEh525b/hr3+k/AklDkNsf6wTT4yv46KIMNpsy+iMdMc47HNWxbsgVcUn7FmLAzzoFAWDsBx+wVP6bUpp5ewI+DOeUx0Wd9D8F70BTGNjkWtqnhmT1JQAHcUgZd8Lo3rQb1LAT8eJVUfgGvHQigGp+V2Z0iAUUl8QH47kAA1XioxIo+bRN8OG8F/oBjwv+Z1nJgX5jpdzQDw0LCjsPmrcW7I/iHScCAEDj03FtD8A0EyuChHgg4KTlJQF3wZ7WELppnBX+dBFSVpJsOBWi1qiRgSwnOgoyD5hmuJdkWCVhTgnTvW3AgYIFrSbZGh0UW/Io5Vp+DQoK7o80pztWMemZbgxeNwCNwDbw1fIfgGZjhU6xPaJgBV8BdsMw5cbZoHsenwYFxkZzl83xTSKTiviCAfCsJLysH3POfC8m8NegyGAGfLP/VmGmfSChgXroR0RSWjEFv2J/nG84cuKFMf4sTCZqXuJd4KaXFVjEG3+tw4eXbNK/YC9oXXs3O8NY8y99L4BXY5cvLY/Bb2VZ58EOJVcB18DHJq9lRsKr8inyKGVjlmh29mtHs3AHfuhCwy1vXT/Nu2GKQt+UHsGdctyX6eQyNvc+5sfX9Dl7Pe2J/BRgAl2CpwmrsHR0AAAAASUVORK5CYII=",alt:"GitHub Logo"})})]})})]})},O=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,19)).then((function(t){var i=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,a=t.getTTFB;i(e),r(e),n(e),c(e),a(e)}))};a.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(A,{})}),document.getElementById("root")),O()},6:function(e,t,i){},7:function(e,t){e.exports=function(e,t){var i=[];return{name:e,turn:t,generateAttack:function e(){var t=Math.round(9*Math.random()),r=Math.round(9*Math.random());if(!i.includes({x:t,y:r}))return i.push({x:t,y:r}),{x:t,y:r};e()},attackArray:i}}}},[[18,1,2]]]);
//# sourceMappingURL=main.13f60bab.chunk.js.map