(this["webpackJsonptdd-battleship"]=this["webpackJsonptdd-battleship"]||[]).push([[0],{13:function(e,t,r){},18:function(e,t,r){"use strict";r.r(t);var n=r(2),i=r.n(n),a=r(8),c=r.n(a),s=(r(13),r(3)),o=(r(6),function(){var e=[[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0]],t=[],r=0;return{board:e,placeShip:function(r,n,i,a){if("horizontal"===a){t.push(r);for(var c=0;c<r.length;c++)e[n][i+c]={ship:r,i:c}}else{if("vertical"!==a)return"You cannot place a ship here";t.push(r);for(var s=0;s<r.length;s++)e[n+s][i]={ship:r,i:s}}},isOutOfBounds:function(t,r,n,i){return r+t.length>e.length&&"vertical"===i||n+t.length>e.length&&"horizontal"===i},isBoardClear:function(t,r,n,i){if("horizontal"===i){for(var a=0;a<t.length;a++)if(0!==e[r][n+a])return!1}else for(var c=0;c<t.length;c++)if(r+c>9||0!==e[r+c][n])return!1;return!0},receiveAttack:function(t,n){"object"==typeof e[t][n]&&"hit"!==e[t][n].ship.hitArray[e[t][n].i]?(e[t][n].ship.hit(e[t][n].i),!0===e[t][n].ship.isSunk()&&r++):"object"==typeof e[t][n]&&"hit"===e[t][n].ship.hitArray[e[t][n].i]||"miss"===e[t][n]?console.log("You've already fired here"):(e[t][n]="miss",console.log("miss"))},shipsArray:t,checkForLoss:function(){return r===t.length}}}),l=r(7),d=r.n(l),h=function(e){var t=0,r=e;switch(e){case"carrier":t=5;break;case"battleship":t=4;break;case"destroyer":case"submarine":t=3;break;case"patrol boat":t=2}var n=new Array(t);return{id:r,length:t,isSunk:function(){if(n.filter((function(e){return"hit"===e})).length===t)return!0},hit:function(e){if("hit"===n[e])return"This location has already been hit";n[e]="hit"},hitArray:n}},u=r(1);var b=function(e){var t=e.onClick,r=e.tile,n=e.rowIndex,i=e.columnIndex;return"object"===typeof r&&"hit"!==r.ship.hitArray[r.i]?Object(u.jsx)("div",{className:"board-tile",onClick:function(){return t(n,i)}}):"miss"===r?Object(u.jsx)("div",{className:"board-tile-miss"}):"object"===typeof r&&"hit"===r.ship.hitArray[r.i]?Object(u.jsx)("div",{className:"board-tile-hit"}):0===r?Object(u.jsx)("div",{className:"board-tile",onClick:function(){return t(n,i)}}):void 0};var j=function(e){var t=e.onClick,r=e.tile,n=e.rowIndex,i=e.columnIndex;return"object"===typeof r&&"hit"!==r.ship.hitArray[r.i]?Object(u.jsx)("div",{className:"board-tile-boat"}):"miss"===r?Object(u.jsx)("div",{className:"board-tile-miss"}):"object"===typeof r&&"hit"===r.ship.hitArray[r.i]?Object(u.jsx)("div",{className:"board-tile-hit"}):0===r?Object(u.jsx)("div",{onClick:function(){return t(n,i)},className:"board-tile"}):void 0},f=r(4),m=r(16);var v=function(){var e=Object(n.useState)(o()),t=Object(s.a)(e,2),r=t[0],i=t[1],a=Object(n.useState)(o()),c=Object(s.a)(a,2),l=c[0],v=c[1],O=Object(n.useState)(d()("player",!0)),p=Object(s.a)(O,2),x=(p[0],p[1],Object(n.useState)(d()("computer",!1))),y=Object(s.a)(x,2),g=y[0],k=(y[1],Object(n.useState)(0)),N=Object(s.a)(k,2),A=N[0],C=N[1],S=Object(n.useState)(!1),B=Object(s.a)(S,2),F=B[0],w=B[1],I=Object(n.useState)("horizontal"),M=Object(s.a)(I,2),L=M[0],z=M[1],P=[h("destroyer"),h("destroyer"),h("battleship"),h("carrier"),h("submarine"),h("submarine"),h("patrol boat")],E=[h("destroyer"),h("destroyer"),h("battleship"),h("carrier"),h("submarine"),h("submarine"),h("patrol boat")],J=Object(n.useState)("Place your destroyer"),T=Object(s.a)(J,2),Y=T[0],D=T[1],G=function(){return{x:Math.round(9*Math.random()),y:Math.round(9*Math.random())}};Object(n.useEffect)((function(){i((function(e){for(var t=f.a.clone(e),n=0;n<P.length;){var i=G().x,a=G().y,c=1===Math.round(Math.random())?"horizontal":"vertical",s=P[n];console.log(i,a,c,s),r.isBoardClear(s,i,a,c)&&!r.isOutOfBounds(s,i,a,c)&&(t.placeShip(s,i,a,c),n++)}return t}))}),[]);var H=function(e,t){A<E.length&&!l.isOutOfBounds(E[A],e,t,L)&&l.isBoardClear(E[A],e,t,L)&&(v((function(r){var n=f.a.clone(r);return n.placeShip(E[A],e,t,L),n})),C(A+1),A+1<E.length&&D("Place your ".concat(E[A+1].id)),A===E.length-1&&D("All ships placed, attack the enemy!"))},q=function(e,t){!1===l.checkForLoss()&&!1===r.checkForLoss()&&A===E.length&&(F||(i((function(r){var n=f.a.clone(r);return n.receiveAttack(e,t),n})),w(!0),setTimeout((function(){var e=g.generateAttack();v((function(t){var r=f.a.clone(t);return r.receiveAttack(e.x,e.y),r})),w(!1)}),500))),!0===l.checkForLoss()?D("You lost!"):!0===r.checkForLoss()&&D("You won!")};return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"header",children:Object(u.jsx)("h1",{children:"Battleships"})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"message-board",children:Object(u.jsx)("div",{children:Y})})}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"side",children:[Object(u.jsx)("div",{className:"board-heading",children:Object(u.jsx)("h3",{children:"Player Board"})}),Object(u.jsxs)("div",{className:"board-container",children:[["","A","B","C","D","E","F","G","H","I","J"].map((function(e){return Object(u.jsx)("div",{className:"board-tile-heading",children:e})})),l.board.map((function(e,t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"board-tile-heading",children:t+1}),e.map((function(e,r){return Object(u.jsx)(j,{onClick:H,tile:e,rowIndex:t,columnIndex:r},m())}))]})}))]}),Object(u.jsx)("div",{className:"button-wrapper",children:Object(u.jsxs)("button",{className:"button",onClick:function(){return z((function(e){return"vertical"===e?"horizontal":"vertical"}))},children:["Ship orientation: ",L]})})]}),Object(u.jsxs)("div",{className:"side",children:[Object(u.jsx)("div",{className:"board-heading",children:Object(u.jsx)("h3",{children:"Computer Board"})}),Object(u.jsxs)("div",{className:"board-container",children:[["","A","B","C","D","E","F","G","H","I","J"].map((function(e){return Object(u.jsx)("div",{className:"board-tile-heading",children:e})})),r.board.map((function(e,t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"board-tile-heading",children:t+1}),e.map((function(e,r){return Object(u.jsx)(b,{onClick:q,tile:e,rowIndex:t,columnIndex:r},m())}))]})}))]})]})]}),Object(u.jsx)("div",{className:"footer",children:"Made by Cheso7"})]})},O=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,19)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;r(e),n(e),i(e),a(e),c(e)}))};c.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root")),O()},6:function(e,t,r){},7:function(e,t){e.exports=function(e,t){var r=[];return{name:e,turn:t,generateAttack:function e(){var t=Math.round(9*Math.random()),n=Math.round(9*Math.random());if(!r.includes({x:t,y:n}))return r.push({x:t,y:n}),{x:t,y:n};e()},attackArray:r}}}},[[18,1,2]]]);
//# sourceMappingURL=main.6e31f7af.chunk.js.map